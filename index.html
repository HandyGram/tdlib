<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TDLib: TDLight</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">TDLib
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">TDLight </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md__r_e_a_d_m_e"></a> TDLight is a fork of TDLib, a cross-platform library for building <a href="https://telegram.org">Telegram</a> clients. It can be easily used from almost any programming language.</p>
<h1>Table of Contents</h1>
<ul>
<li><a class="el" href="index.html#features">Features</a></li>
<li><a class="el" href="index.html#tdlight-extra-features">TDLight extra features</a></li>
<li><a class="el" href="index.html#tdlight-extra-api-functions">TDLight extra API functions</a></li>
<li><a class="el" href="index.html#tdlight-recommended-options">TDLight recommended options</a></li>
<li><a class="el" href="index.html#usage">Examples and documentation</a></li>
<li><a class="el" href="index.html#dependencies">Dependencies</a></li>
<li><a class="el" href="index.html#building">Building</a></li>
<li><a class="el" href="index.html#using-cxx">Using in CMake C++ projects</a></li>
<li><a class="el" href="index.html#using-java">Using in Java projects</a></li>
<li><a class="el" href="index.html#using-dotnet">Using in .NET projects</a></li>
<li><a class="el" href="index.html#using-json">Using with other programming languages</a></li>
<li><a class="el" href="index.html#license">License</a></li>
</ul>
<p><a class="anchor" id="features"></a> </p><h1>Features</h1>
<p><code>TDLib</code> has many advantages. Notably <code>TDLib</code> is:</p>
<ul>
<li><b>Cross-platform</b>: <code>TDLib</code> can be used on Android, iOS, Windows, macOS, Linux, FreeBSD, OpenBSD, NetBSD, illumos, Windows Phone, WebAssembly, watchOS, tvOS, Tizen, Cygwin. It should also work on other *nix systems with or without minimal effort.</li>
<li><b>Multilanguage</b>: <code>TDLib</code> can be easily used with any programming language that is able to execute C functions. Additionally, it already has native Java (using <code>JNI</code>) bindings and .NET (using <code>C++/CLI</code> and <code>C++/CX</code>) bindings.</li>
<li><b>Easy to use</b>: <code>TDLib</code> takes care of all network implementation details, encryption and local data storage.</li>
<li><b>High-performance</b>: in the <a href="https://core.telegram.org/bots/api">Telegram Bot API</a>, each <code>TDLib</code> instance handles more than 24000 active bots simultaneously.</li>
<li><b>Well-documented</b>: all <code>TDLib</code> API methods and public interfaces are fully documented.</li>
<li><b>Consistent</b>: <code>TDLib</code> guarantees that all updates are delivered in the right order.</li>
<li><b>Reliable</b>: <code>TDLib</code> remains stable on slow and unreliable Internet connections.</li>
<li><b>Secure</b>: all local data is encrypted using a user-provided encryption key.</li>
<li><b>Fully-asynchronous</b>: requests to <code>TDLib</code> don't block each other or anything else, responses are sent when they are available.</li>
</ul>
<p><a class="anchor" id="tdlight-extra-features"></a> </p><h2>TDLight extra features</h2>
<h3>TDLight extra options</h3>
<ul>
<li><b>disable_minithumbnails</b> (true/**false**) This setting removes minithumbnails everywhere. It reduces memory usage because tdlib keeps them in RAM</li>
<li><b>disable_document_filenames</b> (true/**false**) If you don't care about having the original filenames of every file stored in RAM, you can disable them using this option. It reduces memory usage</li>
<li><b>disable_notifications</b> (true/**false**) In TDLib pending notification updates are stored in ram until you "read" them. This option disables completely notifications and keeps the pending notifications queue empty, reducing memory usage</li>
<li><b>ignore_update_chat_last_message</b> (true/**false**) If you don't care about have updateChatLastMessage updates enable this</li>
<li><b>ignore_update_chat_read_inbox</b> (true/**false**) If you don't care about have updateChatReadInbox updates enable this</li>
<li><b>ignore_update_user_chat_action</b> (true/**false**) If you don't care about have updateUserChatAction updates enable this</li>
<li><b>ignore_server_deletes_and_reads</b> (true/**false**) If you don't care about receiving read receipts and remote deletes from other users, enable this, it will reduce memory usage</li>
<li><b>receive_access_hashes</b> (true/**false**) Receive chats and users access hash as updates</li>
<li><b>disable_auto_download</b> (true/**false**) Forcefully ignore auto download settings of all sessions <a class="anchor" id="tdlight-extra-api-functions"></a> <h2>TDLight extra API functions</h2>
</li>
</ul>
<h3>TdApi.GetMemoryStatistics</h3>
<p>This method is used to read the size of all the internal TDLib data structures. The output contains a string that can be parsed as a JSON. <a class="anchor" id="tdlight-recommended-options"></a> </p><h1>TDLight recommended options</h1>
<ul>
<li>Options:<ul>
<li>ignore_inline_thumbnails: true</li>
<li>disable_top_chats: true</li>
<li>ignore_platform_restrictions: true</li>
<li>ignore_sensitive_content_restrictions: true</li>
</ul>
</li>
<li>Disable all the databases (messages_db, users_db, files_db) <a class="anchor" id="usage"></a> <h1>Examples and documentation</h1>
</li>
</ul>
<p>See our <a href="https://core.telegram.org/tdlib/getting-started">Getting Started</a> tutorial for a description of basic TDLib concepts.</p>
<p>Take a look at our <a href="https://github.com/tdlight-team/tdlight/blob/master/example/README.md#tdlib-usage-and-build-examples">examples</a>.</p>
<p>See a <a href="https://tdlight-team.github.io/tdlight/build.html">TDLight build instructions generator</a> for detailed instructions on how to build TDLib.</p>
<p>See description of our <a class="el" href="index.html#using-json">JSON</a>, <a class="el" href="index.html#using-cxx">C++</a>, <a class="el" href="index.html#using-java">Java</a> and <a class="el" href="index.html#using-dotnet">.NET</a> interfaces.</p>
<p>See the <a href="https://github.com/tdlight-team/tdlight/blob/master/td/generate/scheme/td_api.tl">td_api.tl</a> scheme or the automatically generated <a href="https://core.telegram.org/tdlib/docs/td__api_8h.html">HTML documentation</a> for a list of all available <code>TDLib</code> <a href="https://core.telegram.org/tdlib/docs/classtd_1_1td__api_1_1_function.html">methods</a> and <a href="https://core.telegram.org/tdlib/docs/classtd_1_1td__api_1_1_object.html">classes</a>.</p>
<p><a class="anchor" id="dependencies"></a> </p><h1>Dependencies</h1>
<p><code>TDLib</code> depends on:</p>
<ul>
<li>C++14 compatible compiler (Clang 3.4+, GCC 4.9+, MSVC 19.0+ (Visual Studio 2015+), Intel C++ Compiler 17+)</li>
<li>OpenSSL</li>
<li>zlib</li>
<li>gperf (build only)</li>
<li>CMake (3.0.2+, build only)</li>
<li>PHP (optional, for documentation generation)</li>
</ul>
<p><a class="anchor" id="building"></a> </p><h1>Building</h1>
<p>The simplest way to build <code>TDLight</code> is to use our <a href="https://tdlight-team.github.io/tdlight/build.html">TDLight build instructions generator</a>. You need only to choose your programming language and target operating system to receive complete build instructions.</p>
<p>In general, you need to install all <code>TDLib</code> <a class="el" href="index.html#dependencies">dependencies</a>, enter directory containing <code>TDLib</code> sources and compile them using CMake:</p>
<div class="fragment"><div class="line">mkdir build</div>
<div class="line">cd build</div>
<div class="line">cmake -DCMAKE_BUILD_TYPE=Release ..</div>
<div class="line">cmake --build .</div>
</div><!-- fragment --><p>To build <code>TDLib</code> on low memory devices you can run <a href="https://github.com/tdlight-team/tdlight/blob/master/SplitSource.php">SplitSource.php</a> script before compiling main <code>TDLib</code> source code and compile only needed targets: </p><div class="fragment"><div class="line">mkdir build</div>
<div class="line">cd build</div>
<div class="line">cmake -DCMAKE_BUILD_TYPE=Release ..</div>
<div class="line">cmake --build . --target prepare_cross_compiling</div>
<div class="line">cd ..</div>
<div class="line">php SplitSource.php</div>
<div class="line">cd build</div>
<div class="line">cmake --build . --target tdjson</div>
<div class="line">cmake --build . --target tdjson_static</div>
<div class="line">cd ..</div>
<div class="line">php SplitSource.php --undo</div>
</div><!-- fragment --><p> In our tests clang 6.0 with libc++ required less than 500 MB of RAM per file and GCC 4.9/6.3 used less than 1 GB of RAM per file.</p>
<p><a class="anchor" id="using-cxx"></a> </p><h1>Using in CMake C++ projects</h1>
<p>For C++ projects that use CMake, the best approach is to build <code>TDLib</code> as part of your project or to install it system-wide.</p>
<p>There are several libraries that you could use in your CMake project:</p>
<ul>
<li>Td::TdJson, Td::TdJsonStatic — dynamic and static version of a JSON interface. This has a simple C interface, so it can be easily used with any programming language that is able to execute C functions. See <a href="https://core.telegram.org/tdlib/docs/td__json__client_8h.html">td_json_client</a> documentation for more information.</li>
<li>Td::TdStatic — static library with C++ interface for general usage. See <a href="https://core.telegram.org/tdlib/docs/classtd_1_1_client_manager.html">ClientManager</a> and <a href="https://core.telegram.org/tdlib/docs/classtd_1_1_client.html">Client</a> documentation for more information.</li>
</ul>
<p>For example, part of your CMakeLists.txt may look like this: </p><div class="fragment"><div class="line">add_subdirectory(td)</div>
<div class="line">target_link_libraries(YourTarget PRIVATE Td::TdStatic)</div>
</div><!-- fragment --><p>Or you could install <code>TDLib</code> and then reference it in your CMakeLists.txt like this: </p><div class="fragment"><div class="line">find_package(Td 1.8.20 REQUIRED)</div>
<div class="line">target_link_libraries(YourTarget PRIVATE Td::TdStatic)</div>
</div><!-- fragment --><p> See <a href="https://github.com/tdlight-team/tdlight/blob/master/example/cpp/CMakeLists.txt">example/cpp/CMakeLists.txt</a>.</p>
<p><a class="anchor" id="using-java"></a> </p><h1>Using in Java projects</h1>
<p><code>TDLib</code> provides native Java interface through JNI. To enable it, specify option <code>-DTD_ENABLE_JNI=ON</code> to CMake.</p>
<p>See <a href="https://github.com/tdlight-team/tdlight/tree/master/example/java">example/java</a> for example of using <code>TDLib</code> from Java and detailed build and usage instructions.</p>
<p><a class="anchor" id="using-dotnet"></a> </p><h1>Using in .NET projects</h1>
<p><code>TDLib</code> provides native .NET interface through <code>C++/CLI</code> and <code>C++/CX</code>. To enable it, specify option <code>-DTD_ENABLE_DOTNET=ON</code> to CMake. .NET Core supports <code>C++/CLI</code> only since version 3.1 and only on Windows, so if older .NET Core is used or portability is needed, then <code>TDLib</code> JSON interface should be used through P/Invoke instead.</p>
<p>See <a href="https://github.com/tdlight-team/tdlight/tree/master/example/csharp">example/csharp</a> for example of using <code>TDLib</code> from C# and detailed build and usage instructions. See <a href="https://github.com/tdlight-team/tdlight/tree/master/example/uwp">example/uwp</a> for example of using <code>TDLib</code> from C# UWP application and detailed build and usage instructions for Visual Studio Extension "TDLib for Universal Windows Platform".</p>
<p>When <code>TDLib</code> is built with <code>TD_ENABLE_DOTNET</code> option enabled, <code>C++</code> documentation is removed from some files. You need to checkout these files to return <code>C++</code> documentation back: </p><div class="fragment"><div class="line">git checkout td/telegram/Client.h td/telegram/Log.h td/tl/TlObject.h</div>
</div><!-- fragment --><p><a class="anchor" id="using-json"></a> </p><h1>Using from other programming languages</h1>
<p><code>TDLib</code> provides efficient native C++, Java, and .NET interfaces. But for most use cases we suggest to use the JSON interface, which can be easily used with any programming language that is able to execute C functions. See <a href="https://core.telegram.org/tdlib/docs/td__json__client_8h.html">td_json_client</a> documentation for detailed JSON interface description, the <a href="https://github.com/tdlight-team/tdlight/blob/master/td/generate/scheme/td_api.tl">td_api.tl</a> scheme or the automatically generated <a href="https://core.telegram.org/tdlib/docs/td__api_8h.html">HTML documentation</a> for a list of all available <code>TDLib</code> <a href="https://core.telegram.org/tdlib/docs/classtd_1_1td__api_1_1_function.html">methods</a> and <a href="https://core.telegram.org/tdlib/docs/classtd_1_1td__api_1_1_object.html">classes</a>.</p>
<p><code>TDLib</code> JSON interface adheres to semantic versioning and versions with the same major version number are binary and backward compatible, but the underlying <code>TDLib</code> API can be different for different minor and even patch versions. If you need to support different <code>TDLib</code> versions, then you can use a value of the <code>version</code> option to find exact <code>TDLib</code> version to use appropriate API methods.</p>
<p>See <a href="https://github.com/tdlight-team/tdlight/tree/master/example/python/tdjson_example.py">example/python/tdjson_example.py</a> for an example of such usage.</p>
<p><a class="anchor" id="license"></a> </p><h1>License</h1>
<p><code>TDLib</code> is licensed under the terms of the Boost Software License. See <a href="http://www.boost.org/LICENSE_1_0.txt">LICENSE_1_0.txt</a> for more information. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
